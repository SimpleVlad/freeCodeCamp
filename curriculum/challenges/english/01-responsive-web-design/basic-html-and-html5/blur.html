<html>
<head>
<meta charset="utf-8">
<title>Hello OpenCV.js</title>
<script async src="https://docs.opencv.org/master/opencv.js" onload="onOpenCvReady();" type="text/javascript"></script>
<script type="text/javascript">

  function onOpenCvReady() {
    document.getElementById('status').innerHTML = 'OpenCV.js is load.';
    cv["onRuntimeInitialized"]=()=> {
       document.getElementById("run").disabled=false;
  }
  }
  function runBlur(){
    let src = cv.imread('imageSrc');
    let dst = new cv.Mat();
    let ksize = new cv.Size(3, 3);
    cv.blur(src, dst, ksize);
    cv.imshow('canvasOutput', dst);
    src.delete();
    dst.delete();
  }
  </script>


</head>
<body>
  <h2>Blure OpenCV.js</h2>
  <p id="status">OpenCV.js is loading...</p>

  <div> <input type="button" id="run"  onclick="runBlur()" value="Run" disabled=true /></div>

  <img id="imageSrc" src="test.jpg"/>
  <canvas id="canvasOutput" ></canvas>

</body>

</html>
